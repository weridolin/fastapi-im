#### about
本模块主要用户维护客户端和服务的长连接,主要用到socket io协议,主要功能如下:
- 维护更新用户的在线状态,主要用到redis
- 接受客户端发送的单聊消息,如果发送的用户在线，则直接推送给在线的用户.如果未在线,则推送给mq
- 接受客户端发送的群聊消息,如果群里成员在线,则直接推送给群里在线的用户.如果未在线,则推送给mq
- 保存消息到数据库


#### 未接受队列
采用写扩展的形式,当用户不在线时,将消息写到redis对应的用户消息通道里面:  
- 采用stream的结构.每种硬件一个consumer（PC/Android/IOS）
- 每个群也单独一个消息通道
